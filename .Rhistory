#Punto 3 c
names(df2)
require(pacman)
p_load(tidyverse, # contiene las librerías ggplot, dplyr...
rvest, data.table, dplyr, skimr, # summary data
caret, rio, vtable, stargazer, ggplot2, boot, MLmetrics) # web-scraping
set.seed(1000)
#Establecer directorio de trabajo
setwd("C:/Users/Diego/OneDrive/Documents/GitHub/BD-ML---PS1")
getwd()
#Establecer directorio de trabajo
setwd("C:/Users/danie/OneDrive/Escritorio/Uniandes/PEG/Big Data and Machine Learning/BD-ML---PS1")
# cargar la base
df2 <- read.csv("datafiltrada.csv")
View(df2)
# mutate(x=var):permite crear nuevas variables a partir de otras variables para construir funciones f(y), f(x)
df2 <- df2%>%mutate(age2=age^2)
df2 <- df2%>%mutate(inglabo=impa+isa)
# mutate(var=dep)
df2 <- df2%>%mutate(female = 1-sex)
# guardar/escribirlas bases de datos en csv en el wd establecido
write.csv(df2, "datafiltrada.csv")
#Punto 3 c
names(df2)
dfBase <- df2[c("age", "age2", "female", "clase", "P6210", "p6210s1", "College", "cotPension", "cuentaPropia", "estrato1", "fex_c", "formal", "fweight", "hoursWorkUsual", "inglabo", "ingtot", "impa", "isa", "maxEducLevel", "mes", "microEmpresa", "oficio", "P6050","P6426", "y_ingLab_m", "y_ingLab_m_ha", "y_salarySec_m", "y_salary_m_hu", "y_total_m", "y_total_m_ha")]
dfBase <- df2[c("age", "age2", "female", "clase", "P6210", "P6210s1", "College", "cotPension", "cuentaPropia", "estrato1", "fex_c", "formal", "fweight", "hoursWorkUsual", "inglabo", "ingtot", "impa", "isa", "maxEducLevel", "mes", "microEmpresa", "oficio", "P6050","P6426", "y_ingLab_m", "y_ingLab_m_ha", "y_salarySec_m", "y_salary_m_hu", "y_total_m", "y_total_m_ha")]
dfBase <- df2[c("age", "age2")]
dfBase <- df2[c("age", "age2", "female", "clase", "p6210", "p6210s1", "college", "cotPension", "cuentaPropia", "estrato1", "fex_c", "formal", "fweight", "hoursWorkUsual", "inglabo", "ingtot", "impa", "isa", "maxEducLevel", "mes", "microEmpresa", "oficio", "p6050","p6426", "y_ingLab_m", "y_ingLab_m_ha", "y_salarySec_m", "y_salary_m_hu", "y_total_m", "y_total_m_ha")]
p_load(tidyverse, # contiene las librerías ggplot, dplyr...
rvest, data.table, dplyr, skimr, # summary data
caret, rio, vtable, stargazer, ggplot2, boot, MLmetrics, lfe) # web-scraping
set.seed(1000)
table(dfBase$maxEducLevel)
table(dfBase$p6210s1)
table(dfBase$p6210)
modelo_prueba <- lm(data = dfBase, y_total_m ~ age*female+age2*female+factor(maxEducLevel))
summary(modelo_prueba)
modelo_prueba_2 <- felm(y_total_m ~ age*female+age2*female|factor(maxEducLevel), data = dfBase)
summary(modelo_prueba_2)
modelo_prueba_2 <- felm(y_total_m ~ age*female+age2*female|factor(maxEducLevel)+factor(oficio), data = dfBase)
summary(modelo_prueba_2)
modelo_prueba <- lm(data = dfBase, y_total_m ~ age*female+age2*female+factor(maxEducLevel)+factor(oficio))
summary(modelo_prueba)
